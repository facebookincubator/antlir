load("//antlir/bzl:oss_shim.bzl", "rust_binary", "third_party")

rust_binary(
    name = "extract",
    srcs = ["extract.rs"],
    # this is installed in a wide variety of containers, so do as much static
    # linkage as possible
    link_style = "static",
    deps =
        third_party.libraries(
            [
                "anyhow",
                "goblin",
                "once_cell",
                "slog",
                "structopt",
                "regex",
            ],
            platform = "rust",
        ) + [third_party.library(
            "shed",
            "slog_glog_fmt",
            platform = "rust",
        )],
)
